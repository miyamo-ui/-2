<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GOATUSBOX â€“ å—ä¿¡ç®±ï¼ˆã‚¢ã‚¹ãƒªãƒ¼ãƒˆï¼‰</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body{background:#f5f6f8;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Helvetica Neue",Arial,sans-serif}
  </style>
</head>
<body class="min-h-screen flex items-start justify-center p-6">
  <div class="w-full max-w-2xl relative">

    <!-- å³ä¸Šã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆATHLETEãƒ‡ãƒ¢ï¼‰ -->
    <header class="flex items-start justify-end mb-4">
      <div class="relative">
        <button id="avatarBtn"
          class="flex items-center gap-2 rounded-full border border-slate-300 bg-white py-2 pl-2 pr-3 shadow-sm hover:bg-slate-50 transition text-left">
          <div class="w-9 h-9 rounded-full bg-slate-800 text-white text-xs font-semibold grid place-items-center">AT</div>
          <div class="hidden sm:flex flex-col leading-tight">
            <span class="text-[11px] text-slate-500 font-medium">ã‚ãªãŸã®ãƒ­ãƒ¼ãƒ«</span>
            <span class="text-[11px] text-slate-800 font-semibold">ATHLETE</span>
          </div>
          <div class="text-[10px] text-slate-500 font-semibold">â–¼</div>
        </button>
        <div id="menu"
          class="hidden absolute right-0 mt-2 w-48 rounded-xl border border-slate-200 bg-white shadow-[0_16px_32px_rgba(0,0,0,0.08)] overflow-hidden text-sm">
          <a href="login2.html?returnTo=athlete-dashboard.html" class="block px-4 py-3 hover:bg-slate-50 border-t">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
        </div>
      </div>
    </header>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚«ãƒ¼ãƒ‰ï¼ˆè¦‹å‡ºã—ï¼‰ -->
    <div class="w-full bg-white rounded-2xl shadow-[0_24px_48px_rgba(0,0,0,0.07)] border border-gray-100 p-8 text-slate-800">
      <div class="text-2xl font-bold text-slate-900 mb-2 text-center">ğŸ“¥ å—ä¿¡ç®±</div>
      <p class="text-base text-slate-600 text-center mb-6">
        <strong>ã‚¹ãƒãƒ³ã‚µãƒ¼ã‹ã‚‰å±Šã„ãŸè³ªå•ã®ä¸€è¦§ã§ã™</strong>
      </p>

      <!-- è³ªå•ãƒªã‚¹ãƒˆï¼ˆã‚«ãƒ¼ãƒ‰ç¾¤ï¼šJSã§å‹•çš„ç”Ÿæˆï¼‰ -->
      <div id="questionList" class="space-y-4"></div>

      <!-- æ³¨è¨˜ -->
      <div class="text-sm text-slate-500 mt-6 text-center">
        â€» è³ªå•ãƒ†ã‚­ã‚¹ãƒˆã®ã¿ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚ç”»é¢ã‚’ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã—ã¦å›ç­”ã—ã¾ã—ã‚‡ã†ï¼
      </div>
    </div>
  </div>

  <script>
    // å³ä¸Šãƒ¡ãƒ‹ãƒ¥ãƒ¼é–‹é–‰
    document.getElementById('avatarBtn').addEventListener('click', () => {
      document.getElementById('menu').classList.toggle('hidden');
    });

    // æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼š2025/11/07 10:12
    function formatDate(isoString) {
      const d = new Date(isoString);
      if (isNaN(d.getTime())) return ''; // å¤‰ãªå€¤ãŒæ¥ãŸã¨ãã®ä¿é™º
      const y  = d.getFullYear();
      const m  = String(d.getMonth() + 1).padStart(2, '0');
      const dd = String(d.getDate()).padStart(2, '0');
      const hh = String(d.getHours()).padStart(2, '0');
      const mm = String(d.getMinutes()).padStart(2, '0');
      return `${y}/${m}/${dd} ${hh}:${mm}`;
    }

    // ç°¡æ˜“ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ï¼ˆXSSé˜²æ­¢ç”¨ï¼‰
    function escapeHtml(str) {
      return String(str).replace(/[&<>"']/g, c => ({
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#39;'
      }[c] || c));
    }

    function renderQuestions() {
      const listEl = document.getElementById('questionList');
      const raw = localStorage.getItem('goatusQuestions');
      const questions = raw ? JSON.parse(raw) : [];

      if (!questions.length) {
        listEl.innerHTML =
          '<p class="text-sm text-slate-500 text-center">ã¾ã è³ªå•ã¯å±Šã„ã¦ã„ã¾ã›ã‚“ã€‚</p>';
        return;
      }

      listEl.innerHTML = '';

      questions.forEach(q => {
        const article = document.createElement('article');
        article.className = 'rounded-xl border border-slate-200 bg-white p-4 shadow-sm';

        const name = q.nickname || 'ã‚¹ãƒãƒ³ã‚µãƒ¼';
        const time = q.createdAt ? formatDate(q.createdAt) : '';

        article.innerHTML = `
          <div class="text-xs text-slate-500 mb-1">
            ${escapeHtml(name)}${time ? 'ãƒ»' + escapeHtml(time) : ''}
          </div>
          <h3 class="text-[15px] leading-relaxed font-semibold text-slate-900">
            ${escapeHtml(q.text || '')}
          </h3>
        `;

        listEl.appendChild(article);
      });
    }

    // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«æç”»
    document.addEventListener('DOMContentLoaded', renderQuestions);
  </script>
</body>
</html>
